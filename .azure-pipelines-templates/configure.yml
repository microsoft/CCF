jobs:
  - job: configure
    displayName: "Configure CI"
    variables:
      Codeql.SkipTaskAutoInjection: true
      skipComponentGovernanceDetection: true
    pool:
      vmImage: "ubuntu-20.04"
    steps:
      - script: echo "##vso[task.setvariable variable=varA]hello"
      - script: |
          echo "##vso[task.setvariable variable=varB]hello"
      # - script: |
      #     echo ##vso[task.setvariable variable=varC]hello
      - script: |
          set -ex
          echo "##vso[task.setvariable variable=varD]hello"
      # - script: |
      #     set -ex
      #     echo ##vso[task.setvariable variable=varE]hello

      - script: |
          echo $(varA)
          echo $(varB)
          # echo $(varC)
          echo $(varD)
          # echo $(varE)
        displayName: Display VSO Vars
  
      - checkout: self
        clean: true
      - script: |
          echo "##vso[task.setvariable variable=docOnly;isOutput=true]true"

        displayName: "Check for runtime changes"
        name: setVarStep
