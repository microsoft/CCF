jobs:
  - job: configure
    displayName: "Configure CI"
    variables:
      Codeql.SkipTaskAutoInjection: true
      skipComponentGovernanceDetection: true
    pool:
      vmImage: "ubuntu-20.04"
    steps:
      - script: echo "##vso[task.setvariable variable=varA]hello"
      - script: |
          echo "##vso[task.setvariable variable=varB]hello"
      - script: |
          set -ex
          echo "##vso[task.setvariable variable=varC]hello"

      - script: |
          echo $(varA)
          echo $(varB)
          echo $(varC)
        displayName: Display VSO Vars
  
      - script: echo "##vso[task.setvariable variable=varD;isOutput=true]hello"
        name: setD
      - script: |
          echo "##vso[task.setvariable variable=varE;isOutput=true]hello"
        name: setE
      - script: |
          set -ex
          echo "##vso[task.setvariable variable=varF;isOutput=true]hello"
        name: setF

      - script: |
          echo $(setD.varD)
          echo $(setE.varE)
          echo $(setF.varF)
        displayName: Display VSO Vars
  
      - script: |
          echo "##vso[task.setvariable variable=docOnly;isOutput=true]true"

        displayName: "Check for runtime changes"
        name: setVarStep
